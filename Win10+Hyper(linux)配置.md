使用windows10自带的Hyper-V管理器来创建linux虚拟机

安装Hyper-V管理器
控制面板->程序和功能->启动和关闭wndows功能->选中Hyper-V->确定->重新启动系统

安装linux虚拟机
下载centos7,到官网下载centos7的mini x86_64版本iso文件

启动Hyper-V管理器

创建一个虚拟交换机：Hyper-V管理器->虚拟交换机管理器->外部->创建虚拟交换机(S)->确定

修改为固定ip地址(非dhcp)：修改这个新创建“虚拟交换机”->internet协议版本4(TCP/IPv4)->属性->(ip地址192.168.0.253、掩码255.255.255.0、默认网关192.168.0.1、DNS 114.114.114.114)->确定

创建linux虚拟机
Hyper-V管理器->新建->虚拟机(M)->...(按照向导操作就可以了)->确定
禁止启用安全：选择对应的虚拟机->安全->去掉“启用安全启动(E)”->确定
设置固定MAC地址：选择对应的虚拟机->网络适配器->高级功能->MAC地址(静态)->确定。记住这个MAC地址，下面要用。

安装linux
Hyper-V管理器->选择"创建的虚拟机"->右键->启动->...正常安装linux系统就可以了.

设置linux系统网络
vi /etc/sysconfig/network-scripts/ifcfg-eth0 
TYPE=Ethernet
BOOTPROTO=static
IPADDR=192.168.0.250
NETMASK=255.255.255.0
DEVICE=eth0
ONBOOT=yes
HWADDR=00:15:5D:00:08:02
GATEWAY=192.168.0.1

cat /etc/resolv.conf
# Generated by NetworkManager
nameserver 114.114.114.114

重新启动网络
service network restart

测试宿主机和虚拟机的网络连接
两台机器相互ping
如果linux虚拟机无法ping通宿主机(win10)，有可能win10禁ping了(默认是禁止的)。
开通ping(ICMP)：控制面板->Windows Defender防火墙->高级设置->入站规则->"文件和打印机共享(回显请求 - ICMPv4-ln)，注意是两个,两个是同样的字样，选中两个后，点击启用规则。



















